<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Planejamento Tributário</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #1a202c;
        }
        /* Utilitário para controle de visualização */
        .page {
            display: none;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="bg-white p-8 rounded-xl shadow-2xl max-w-2xl w-full">
        <!-- Espaço para a Logo -->
        <div class="mb-6 flex justify-center">
            <img src="Logotipo_primario_medio.jpg" alt="Logo do Escritório" class="h-12 w-auto">
        </div>

        <!-- Tela de Seleção Inicial -->
        <div id="splashPage" class="page flex flex-col items-center justify-center text-center">
            <h1 class="text-3xl font-bold mb-6 text-indigo-600">O que você deseja simular?</h1>
            <div class="space-y-4">
                <button id="btnEmpresa" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-4 px-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300">
                    Planejamento para Empresa
                </button>
                <button id="btnPessoaFisica" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-4 px-8 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300">
                    Cálculo para Pessoa Física
                </button>
            </div>
        </div>

        <!-- Formulário para Empresa -->
        <div id="empresaFormPage" class="page">
            <h1 class="text-3xl font-bold mb-6 text-center text-indigo-600">Simulador de Planejamento Tributário</h1>
            <form id="tributarioForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">

                <!-- Novos campos: Nome da Empresa e CNPJ -->
                <div class="flex flex-col md:col-span-2">
                    <label for="nome_empresa" class="text-sm font-medium text-gray-700">Nome da Empresa</label>
                    <input type="text" id="nome_empresa" name="nome_empresa" required
                           class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                </div>
                
                <div class="flex flex-col md:col-span-2">
                    <label for="cnpj" class="text-sm font-medium text-gray-700">CNPJ (Opcional)</label>
                    <input type="text" id="cnpj" name="cnpj"
                           class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div class="flex flex-col">
                    <label for="tipo_empresa" class="text-sm font-medium text-gray-700">Abertura ou Constituída?</label>
                    <select id="tipo_empresa" name="tipo_empresa" required
                            class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="abertura">Abertura</option>
                        <option value="constituida">Constituída</option>
                    </select>
                </div>
                
                <div class="flex flex-col">
                    <label for="faturamento" class="text-sm font-medium text-gray-700">Faturamento Anual (R$)</label>
                    <input type="number" id="faturamento" name="faturamento" required step="0.01"
                           class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div class="flex flex-col">
                    <label for="socio_outra_empresa" class="text-sm font-medium text-gray-700">Sócio de outra empresa?</label>
                    <select id="socio_outra_empresa" name="socio_outra_empresa" required
                            class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="sim">Sim</option>
                        <option value="não">Não</option>
                    </select>
                </div>

                <div class="flex flex-col">
                    <label for="cnae" class="text-sm font-medium text-gray-700">CNAE</label>
                    <input type="text" id="cnae" name="cnae" required
                           class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div class="flex flex-col">
                    <label for="municipio" class="text-sm font-medium text-gray-700">Município</label>
                    <input type="text" id="municipio" name="municipio" required
                           class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div class="flex flex-col">
                    <label for="prolabore" class="text-sm font-medium text-gray-700">Pró-labore (R$)</label>
                    <input type="number" id="prolabore" name="prolabore" required step="0.01"
                           class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <!-- Seção para os botões de Anexo -->
                <div class="flex flex-col md:col-span-2">
                    <label class="text-sm font-medium text-gray-700 mb-2">Anexo Simples Nacional</label>
                    <div id="anexo-buttons" class="grid grid-cols-2 md:grid-cols-3 gap-2">
                        <button type="button" data-anexo="I" class="anexo-btn py-2 px-4 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-200 transition-all duration-200">
                            Anexo I
                        </button>
                        <button type="button" data-anexo="II" class="anexo-btn py-2 px-4 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-200 transition-all duration-200">
                            Anexo II
                        </button>
                        <button type="button" data-anexo="III" class="anexo-btn py-2 px-4 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-200 transition-all duration-200">
                            Anexo III
                        </button>
                        <button type="button" data-anexo="IV" class="anexo-btn py-2 px-4 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-200 transition-all duration-200">
                            Anexo IV
                        </button>
                        <button type="button" data-anexo="V" class="anexo-btn py-2 px-4 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-200 transition-all duration-200">
                            Anexo V
                        </button>
                        <button type="button" data-anexo="VI" class="anexo-btn py-2 px-4 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-200 transition-all duration-200">
                            Anexo VI
                        </button>
                    </div>
                    <input type="hidden" id="anexo" name="anexo" required>
                </div>

                <!-- Nova seção para os botões de Regime a Comparar -->
                <div class="flex flex-col md:col-span-2">
                    <label class="text-sm font-medium text-gray-700 mb-2">Regime a Comparar</label>
                    <div id="comparar-buttons" class="grid grid-cols-1 md:grid-cols-3 gap-2">
                        <button type="button" data-comparar="Simples Nacional" class="comparar-btn py-2 px-4 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-200 transition-all duration-200">
                            Simples Nacional
                        </button>
                        <button type="button" data-comparar="Lucro Presumido" class="comparar-btn py-2 px-4 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-200 transition-all duration-200">
                            Lucro Presumido
                        </button>
                        <button type="button" data-comparar="Ambos" class="comparar-btn py-2 px-4 rounded-md border border-gray-300 text-gray-700 hover:bg-gray-200 transition-all duration-200">
                            Ambos
                        </button>
                    </div>
                    <input type="hidden" id="comparar" name="comparar" required>
                </div>

                <div class="flex flex-col">
                    <label for="prolabore_ideal" class="text-sm font-medium text-gray-700">Pró-labore Ideal (R$)</label>
                    <input type="number" id="prolabore_ideal" name="prolabore_ideal" required step="0.01"
                           class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                </div>

                <div class="flex flex-col">
                    <label for="tem_funcionarios" class="text-sm font-medium text-gray-700">Possui Funcionários?</label>
                    <select id="tem_funcionarios" name="tem_funcionarios" required
                            class="mt-1 p-3 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
                        <option value="sim">Sim</option>
                        <option value="não">Não</option>
                    </select>
                </div>
                
                <div class="flex flex-col">
                    <label for="folha" class="text-sm font-medium text-gra
